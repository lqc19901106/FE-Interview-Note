# 浏览器原理

### 一. 浏览器的构成

1. **用户界面**。包括地址栏、前进/后退按钮、书签菜单等。除了浏览器主窗口显示的您请求的页面外，其他显示的各个部分都属于用户界面。
2. **浏览器引擎**。在用户界面和呈现引擎之间传送指令。
3. **呈现引擎**。负责显示请求的内容。如果请求的内容是 HTML，它就负责解析 HTML 和 CSS 内容，并将解析后的内容显示在屏幕上。
4. **网络**。用于网络调用，比如 HTTP 请求。其接口与平台无关，并为所有平台提供底层实现。
5. **用户界面后端**。用于绘制基本的窗口小部件，比如组合框和窗口。其公开了与平台无关的通用接口，而在底层使用操作系统的用户界面方法。
6. **JavaScript 解释器**。用于解析和执行 JavaScript 代码。
7. **数据存储**。这是持久层。浏览器需要在硬盘上保存各种数据，例如 Cookie。新的 HTML 规范 (HTML5) 定义了“网络数据库”，这是一个完整（但是轻便）的浏览器内数据库。

### ![浏览器组成图](../img/浏览器组成图.png)

### 二. 浏览器的解析过程

2.1 DOM解析

2.2 CSS解析

2.3 合成树

2.4 布局

2.5 渲染

2.6 显示

### 三. 相关面试题

#### 1. 如何减少回流 （浏览器的绘制过程）

- （1）使用 transform 替代 top 
- （2）不要把节点的属性值放在一个循环里当成循环里的变量 
- （3）不要使用 table 布局，可能很小的一个小改动会造成整个 table 的重新布局 
- （4）把 DOM 离线后修改。如：使用 documentFragment 对象在内存里操作 DOM 
- （5）不要一条一条地修改 DOM 的样式。与其这样，还不如预先定义好 css 的 class，然后修改 DOM 的 className。